# 计算机基础知识
# 码制
## 原码 反码 补码
### 原码
最高位为符号位，正数为0，负数为1，其余为为数值位
### 反码
* 正数：与原码相同
* 负数：符号位不变，其余为取反
>8位反码中 +0 = 0000 0000 -0 = 1111 1111
>表示范围 -127 --- + 127
### 补码
>补码的作用是用加法代替减法
* 正数：与原码相同
* 负数：反码加一
>8为补码中-0 = -0 = 0000 0000 
>符号位为1时，该数的绝对值为其余位取反加1，或减1取反
表示范围 -128 --- +127 -128 = 1111 1111
### 省流版本
* 正数：正反补码相同
* 负数：反码取反，补码加1
  
|十进制|二进制|原码|反码|补码|
|:---:|:---:|:---:|:---:|:---:|
|+126|+111 1110|0111 1110|0111 1110|0111 1110|
|-126|-111 1110|1111 1110|1000 0001|1000 0010|
## 定点与浮点
### 定点小数法
|符号位|小数点(隐含)|数值部分(尾数)|
|:---:|:---:|:---:|
### 定点整数法
|符号位|数值部分(尾数)|小数点(隐含)|
|:---:|:---:|:---:|
>上述数据在进行运算时，可能需要选择适当比例因子
### 浮点表示法
|阶符|阶码|数符|尾数|
|:---:|:---:|:---:|:---:|
|0|0011|0|1011|

$$
N = 2^{+11} \times 0.1011
$$
在浮点数表示中，有一项规则被称为规格化数，即尾数最高位一定是1
>为什么？
最高位是1能够保证在一定尾数下储存更多的数，同时也能提高精度
## 对于部分汇编的补充
寄存器：CPU内部暂存数据
### 常用寄存器
|16位|高8位|低8位|
|:---:|:---:|:---:|
|AX|AH|AL|
|BX|BH|BL|
|CX|CH|CL|
|DX|DH|DL|
>在8086中，寄存器都是16位的，但**有且仅有以上四个**寄存器允许拆出8位寄存器

|指令助记符|目的操作数(DST)|源操作数(SRC)|
|:---:|:---:|:---:|
|mov|AL|97|
|add|AL|89|

在add中，是目的操作数加源操作数，求得和放回到目前操作数
>SBU是减法，那么就是目的减源 ，结果放回目的
在汇编中，数字必须以0-9开头，变量必须以字母开头
>值得注意的是，字节运算是8位；而字的运算是16位
目的操作数不能有直接数据出现

### 处理器状态字寄存器(PSW)/标志寄存器(FR)
有时候，需要根据运算结果来判断下一步操作
例如上述97+89例子会产生溢出，这就会产生一个状态
CPU会根据结果产生的状态，自动在FR中标志位置0或1
**只**有做了**运算**(如add可以,但mov就不行)，**才**会引起标志位变化
>0110 0001 + 0101 1001 = 1011 1010 
不要忘记8位表示，最高位是符号位而不是表示一个数

例如在FR中第六位的ZF(书P23)，若AL为0,ZF=1,否则ZF=0
在上述例子中，结果溢出了，那么FR中第11位OF(溢出标志位)=1
这些状态可以用作分支程序条件设计中条件

### 溢出的判断
1. 符号位与数据位最高位之间不存在进/借位情况，不溢出
2. 符号位与数据位最高位之间都存在进/借位情况(借两次)，不溢出
3. 一个进/借位一个不进/借位，溢出

### 逻辑运算
|指令助记符|逻辑运算|用法|
|:---:|:---:|:---:|
|AND|与|AND DST,SRC|
|OR|或|OR DST,SRC|
|XOR|异或|XOR DST,SRC|
|NOT|非|NOT DST|
>逻辑运算也算运算，会影响FR的值；但是NOT运算不影响FR值

例如：
MOV AL,97
AND AL,89

什么时候用到与运算？
把某一操作数部分位清零或不变。清零与0，不变与1

AND AX,0FFF0H
>把AX中后四位置0，其他不变。其中最后的H表示他是16位数，第一0表示他是数字而不是变量

什么时候用到或运算？
把某一操作数部分位置1，其他位不变。置1或1，不变或0

AND BX,000FH
>把BX中后四位置1，其他不变

什么时候用到异或运算？
把某一操作数部分位取反，其他位不变。取反异或1，不变异或0

XOR AL,0F0H
>把AL中后四位不变，其他取反